////  GrammarCheckerTask.m//  GrammarDesigner////  Created by liu peng on 9/24/11.//  Copyright 2011 none. All rights reserved.//#import "GrammarCheckerTask.h"@implementation GrammarCheckTaskMessage@synthesize		parseResult;@synthesize		sourcesCode;-(id)init{		assert(NO);}-(id)initWithSources : (NSString*)src{		self = [super initWithName : nil];		if(self)		{				[src retain];				sourcesCode = src;				parseResult = NULL;		}		return self;}-(void)dealloc{		[sourcesCode release];		sourcesCode = nil;				if(parseResult)		{				CFG_DestroyGrammarConfig(parseResult);				parseResult = NULL;		}				[super dealloc];}-(void)run{		DLog(@"GrammarCheckTaskMessage::run");}@end/******************************************************************/@implementation GrammarCheckTask-(void)onWorkerBegin{		DLog(@"GrammarCheckTask::onWorkerBegin");}-(void)onWorkerEnd{		DLog(@"GrammarCheckTask::onWorkerEnd");}-(void)handleWorkerThreadMessage : (ARDuplexTaskMessage*)msg forTask : (ARDuplexTask*)task{		assert(msg != nil && task != nil);		GrammarCheckTaskMessage *gmrMsg = (GrammarCheckTaskMessage*)msg;		DLog(@"GrammarCheckTask::handleWorkerThreadMessage : Sources == %@", gmrMsg.sourcesCode);		[gmrMsg run];		[task PostMsgToMain : msg];		}-(void)handleMainThreadMessage : (ARDuplexTaskMessage*)msg forTask : (ARDuplexTask*)task{		GrammarCheckTaskMessage *gmrMsg = (GrammarCheckTaskMessage*)msg;		DLog(@"GrammarCheckTask::handleMainThreadMessage : Sources == %@", gmrMsg.sourcesCode);		[msg release];}@end